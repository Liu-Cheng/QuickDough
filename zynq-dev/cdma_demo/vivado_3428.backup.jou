#-----------------------------------------------------------
# Vivado v2016.2 (64-bit)
# SW Build 1577090 on Thu Jun  2 16:32:35 MDT 2016
# IP Build 1577682 on Fri Jun  3 12:00:54 MDT 2016
# Start of session at: Mon Oct  3 17:09:07 2016
# Process ID: 3428
# Current directory: /home/liucheng/research/zynq-dev/cdma_demo
# Command line: vivado
# Log file: /home/liucheng/research/zynq-dev/cdma_demo/vivado.log
# Journal file: /home/liucheng/research/zynq-dev/cdma_demo/vivado.jou
#-----------------------------------------------------------
start_gui
create_project cdma_demo . -part xc7z020clg484-1
set_property board_part em.avnet.com:zed:part0:1.3 [current_project]
create_bd_design "base_sys"
update_compile_order -fileset sources_1
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:processing_system7:5.5 processing_system7_0
endgroup
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_cdma:4.1 axi_cdma_0
endgroup
set_property location {1 209 -29} [get_bd_cells processing_system7_0]
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_bram_ctrl:4.0 axi_bram_ctrl_0
endgroup
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:blk_mem_gen:8.3 blk_mem_gen_0
endgroup
set_property location {1 112 -81} [get_bd_cells axi_cdma_0]
set_property location {2 533 -44} [get_bd_cells processing_system7_0]
set_property -dict [list CONFIG.preset {ZedBoard}] [get_bd_cells processing_system7_0]
set_property location {2.5 529 -255} [get_bd_cells blk_mem_gen_0]
startgroup
set_property -dict [list CONFIG.DATA_WIDTH {64} CONFIG.SINGLE_PORT_BRAM {1} CONFIG.ECC_TYPE {0}] [get_bd_cells axi_bram_ctrl_0]
endgroup
set_property location {1.5 -54 -317} [get_bd_cells axi_cdma_0]
set_property location {1 12 -322} [get_bd_cells axi_cdma_0]
connect_bd_intf_net [get_bd_intf_pins axi_bram_ctrl_0/BRAM_PORTA] [get_bd_intf_pins blk_mem_gen_0/BRAM_PORTA]
apply_bd_automation -rule xilinx.com:bd_rule:processing_system7 -config {make_external "FIXED_IO, DDR" apply_board_preset "1" Master "Disable" Slave "Disable" }  [get_bd_cells processing_system7_0]
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/processing_system7_0/M_AXI_GP0" Clk "Auto" }  [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/processing_system7_0/M_AXI_GP0" Clk "Auto" }  [get_bd_intf_pins axi_bram_ctrl_0/S_AXI]
endgroup
regenerate_bd_layout
undo
undo
startgroup
set_property -dict [list CONFIG.PCW_USE_S_AXI_HP0 {1}] [get_bd_cells processing_system7_0]
endgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/processing_system7_0/M_AXI_GP0" Clk "Auto" }  [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]
regenerate_bd_layout
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/axi_cdma_0/M_AXI" Clk "Auto" }  [get_bd_intf_pins processing_system7_0/S_AXI_HP0]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/processing_system7_0/M_AXI_GP0" Clk "Auto" }  [get_bd_intf_pins axi_bram_ctrl_0/S_AXI]
endgroup
undo
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_interconnect:2.1 axi_interconnect_0
endgroup
set_property location {2 751 -180} [get_bd_cells axi_interconnect_0]
set_property location {3.5 1351 16} [get_bd_cells axi_interconnect_0]
connect_bd_intf_net [get_bd_intf_pins axi_cdma_0/M_AXI] -boundary_type upper [get_bd_intf_pins axi_interconnect_0/S00_AXI]
connect_bd_intf_net [get_bd_intf_pins axi_bram_ctrl_0/S_AXI] -boundary_type upper [get_bd_intf_pins axi_interconnect_0/M01_AXI]
connect_bd_intf_net -boundary_type upper [get_bd_intf_pins axi_interconnect_0/M00_AXI] [get_bd_intf_pins processing_system7_0/S_AXI_HP0]
startgroup
set_property -dict [list CONFIG.C_INCLUDE_SG {0}] [get_bd_cells axi_cdma_0]
endgroup
startgroup
set_property -dict [list CONFIG.C_M_AXI_DATA_WIDTH {64} CONFIG.C_M_AXI_MAX_BURST_LEN {16}] [get_bd_cells axi_cdma_0]
endgroup
regenerate_bd_layout
startgroup
set_property -dict [list CONFIG.PCW_USE_FABRIC_INTERRUPT {1} CONFIG.PCW_IRQ_F2P_INTR {1}] [get_bd_cells processing_system7_0]
endgroup
regenerate_bd_layout
connect_bd_net [get_bd_pins axi_cdma_0/cdma_introut] [get_bd_pins processing_system7_0/IRQ_F2P]
connect_bd_net [get_bd_pins axi_cdma_0/m_axi_aclk] [get_bd_pins axi_cdma_0/s_axi_lite_aclk]
undo
startgroup
set_property -dict [list CONFIG.PCW_FPGA1_PERIPHERAL_FREQMHZ {200} CONFIG.PCW_EN_CLK1_PORT {1}] [get_bd_cells processing_system7_0]
endgroup
regenerate_bd_layout
connect_bd_net [get_bd_pins processing_system7_0/FCLK_CLK1] [get_bd_pins axi_bram_ctrl_0/s_axi_aclk]
connect_bd_net [get_bd_pins axi_cdma_0/m_axi_aclk] [get_bd_pins processing_system7_0/FCLK_CLK1]
connect_bd_net [get_bd_pins axi_interconnect_0/M00_ACLK] [get_bd_pins processing_system7_0/FCLK_CLK1]
connect_bd_net [get_bd_pins axi_interconnect_0/ACLK] [get_bd_pins processing_system7_0/FCLK_CLK1]
connect_bd_net [get_bd_pins axi_interconnect_0/S00_ACLK] [get_bd_pins processing_system7_0/FCLK_CLK1]
connect_bd_net [get_bd_pins axi_interconnect_0/M01_ACLK] [get_bd_pins processing_system7_0/FCLK_CLK1]
connect_bd_net [get_bd_pins axi_bram_ctrl_0/s_axi_aresetn] [get_bd_pins rst_processing_system7_0_100M/peripheral_aresetn]
connect_bd_net [get_bd_pins processing_system7_0/S_AXI_HP0_ACLK] [get_bd_pins processing_system7_0/FCLK_CLK1]
connect_bd_net [get_bd_pins axi_interconnect_0/S00_ARESETN] [get_bd_pins rst_processing_system7_0_100M/peripheral_aresetn]
connect_bd_net [get_bd_pins axi_interconnect_0/M00_ARESETN] [get_bd_pins rst_processing_system7_0_100M/peripheral_aresetn]
connect_bd_net [get_bd_pins axi_interconnect_0/M01_ARESETN] [get_bd_pins rst_processing_system7_0_100M/peripheral_aresetn]
connect_bd_net [get_bd_pins axi_interconnect_0/ARESETN] [get_bd_pins processing_system7_0_axi_periph/ARESETN] -boundary_type upper
regenerate_bd_layout
set_property location {2 483 51} [get_bd_cells rst_processing_system7_0_100M]
regenerate_bd_layout
set_property location {2 542 27} [get_bd_cells axi_cdma_0]
set_property location {2.5 912 -219} [get_bd_cells axi_interconnect_0]
set_property location {3 1013 141} [get_bd_cells processing_system7_0]
set_property location {3.5 1328 -22} [get_bd_cells axi_bram_ctrl_0]
set_property location {4.5 1610 -16} [get_bd_cells blk_mem_gen_0]
regenerate_bd_layout
assign_bd_address
set_property range 16K [get_bd_addr_segs {axi_cdma_0/Data/SEG_axi_bram_ctrl_0_Mem0}]
save_bd_design
regenerate_bd_layout
validate_bd_design
startgroup
set_property -dict [list CONFIG.PCW_EN_RST1_PORT {1} CONFIG.PCW_QSPI_GRP_SINGLE_SS_ENABLE {1}] [get_bd_cells processing_system7_0]
endgroup
delete_bd_objs [get_bd_nets processing_system7_0_FCLK_CLK1]
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:rst_gen:1.0 rst_gen_0
endgroup
delete_bd_objs [get_bd_cells rst_gen_0]
delete_bd_objs [get_bd_nets rst_processing_system7_0_100M_interconnect_aresetn]
delete_bd_objs [get_bd_nets rst_processing_system7_0_100M_peripheral_aresetn]
delete_bd_objs [get_bd_nets processing_system7_0_FCLK_CLK0]
regenerate_bd_layout
regenerate_bd_layout
copy_bd_objs /  [get_bd_cells {rst_processing_system7_0_100M}]
set_property location {2 484 536} [get_bd_cells rst_processing_system7_0_100M1]
apply_bd_automation -rule xilinx.com:bd_rule:board -config {rst_polarity "ACTIVE_LOW" }  [get_bd_pins rst_processing_system7_0_100M1/ext_reset_in]
undo
delete_bd_objs [get_bd_intf_nets processing_system7_0_axi_periph_M00_AXI] [get_bd_intf_nets processing_system7_0_M_AXI_GP0] [get_bd_cells processing_system7_0_axi_periph]
delete_bd_objs [get_bd_cells rst_processing_system7_0_100M1]
delete_bd_objs [get_bd_nets processing_system7_0_FCLK_RESET0_N] [get_bd_cells rst_processing_system7_0_100M]
delete_bd_objs [get_bd_intf_nets axi_cdma_0_M_AXI] [get_bd_intf_nets axi_interconnect_0_M00_AXI] [get_bd_intf_nets axi_interconnect_0_M01_AXI] [get_bd_cells axi_interconnect_0]
delete_bd_objs [get_bd_nets axi_cdma_0_cdma_introut]
save_bd_design
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/axi_cdma_0/M_AXI" Clk "Auto" }  [get_bd_intf_pins processing_system7_0/S_AXI_HP0]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/processing_system7_0/M_AXI_GP0" Clk "Auto" }  [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/processing_system7_0/M_AXI_GP0" Clk "Auto" }  [get_bd_intf_pins axi_bram_ctrl_0/S_AXI]
endgroup
undo
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:proc_sys_reset:5.0 proc_sys_reset_0
endgroup
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:proc_sys_reset:5.0 proc_sys_reset_1
endgroup
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_interconnect:2.1 axi_interconnect_0
endgroup
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_interconnect:2.1 axi_interconnect_1
endgroup
regenerate_bd_layout
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/processing_system7_0/M_AXI_GP0" Clk "Auto" }  [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]
connect_bd_intf_net [get_bd_intf_pins axi_cdma_0/M_AXI] -boundary_type upper [get_bd_intf_pins axi_interconnect_1/S00_AXI]
connect_bd_intf_net -boundary_type upper [get_bd_intf_pins axi_interconnect_1/M00_AXI] [get_bd_intf_pins processing_system7_0/S_AXI_HP0]
connect_bd_intf_net -boundary_type upper [get_bd_intf_pins axi_interconnect_1/M01_AXI] [get_bd_intf_pins axi_bram_ctrl_0/S_AXI]
apply_bd_automation -rule xilinx.com:bd_rule:board -config {rst_polarity "ACTIVE_LOW" }  [get_bd_pins proc_sys_reset_1/ext_reset_in]
undo
connect_bd_net [get_bd_pins processing_system7_0/FCLK_RESET1_N] [get_bd_pins proc_sys_reset_1/ext_reset_in]
connect_bd_net [get_bd_pins processing_system7_0/FCLK_CLK1] [get_bd_pins proc_sys_reset_1/slowest_sync_clk]
connect_bd_net [get_bd_pins proc_sys_reset_1/interconnect_aresetn] [get_bd_pins axi_interconnect_1/ARESETN]
connect_bd_net [get_bd_pins proc_sys_reset_1/peripheral_aresetn] [get_bd_pins axi_interconnect_1/S00_ARESETN]
connect_bd_net [get_bd_pins axi_interconnect_1/M00_ARESETN] [get_bd_pins proc_sys_reset_1/peripheral_aresetn]
connect_bd_net [get_bd_pins axi_interconnect_1/M01_ARESETN] [get_bd_pins proc_sys_reset_1/peripheral_aresetn]
delete_bd_objs [get_bd_cells axi_interconnect_0]
connect_bd_net [get_bd_pins axi_interconnect_1/ACLK] [get_bd_pins processing_system7_0/FCLK_CLK1]
connect_bd_net [get_bd_pins axi_interconnect_1/S00_ACLK] [get_bd_pins processing_system7_0/FCLK_CLK1]
connect_bd_net [get_bd_pins axi_interconnect_1/M00_ACLK] [get_bd_pins processing_system7_0/FCLK_CLK1]
connect_bd_net [get_bd_pins axi_interconnect_1/M01_ACLK] [get_bd_pins processing_system7_0/FCLK_CLK1]
connect_bd_net [get_bd_pins axi_cdma_0/cdma_introut] [get_bd_pins processing_system7_0/IRQ_F2P]
connect_bd_net [get_bd_pins processing_system7_0/S_AXI_HP0_ACLK] [get_bd_pins processing_system7_0/FCLK_CLK1]
connect_bd_net [get_bd_pins axi_cdma_0/m_axi_aclk] [get_bd_pins processing_system7_0/FCLK_CLK0]
connect_bd_net [get_bd_pins axi_bram_ctrl_0/s_axi_aresetn] [get_bd_pins proc_sys_reset_1/interconnect_aresetn]
connect_bd_net [get_bd_pins axi_bram_ctrl_0/s_axi_aclk] [get_bd_pins processing_system7_0/FCLK_CLK1]
regenerate_bd_layout
regenerate_bd_layout
save_bd_design
assign_bd_address
set_property range 16K [get_bd_addr_segs {axi_cdma_0/Data/SEG_axi_bram_ctrl_0_Mem0}]
save_bd_design
validate_bd_design
regenerate_bd_layout
regenerate_bd_layout
validate_bd_design
delete_bd_objs [get_bd_nets processing_system7_0_FCLK_CLK0]
connect_bd_net [get_bd_pins processing_system7_0/FCLK_CLK0] [get_bd_pins processing_system7_0/M_AXI_GP0_ACLK]
connect_bd_net [get_bd_pins axi_cdma_0/s_axi_lite_aclk] [get_bd_pins processing_system7_0/FCLK_CLK0]
connect_bd_net [get_bd_pins axi_cdma_0/m_axi_aclk] [get_bd_pins processing_system7_0/FCLK_CLK1]
connect_bd_net [get_bd_pins proc_sys_reset_0/slowest_sync_clk] [get_bd_pins axi_cdma_0/s_axi_lite_aclk]
connect_bd_net [get_bd_pins processing_system7_0_axi_periph/ACLK] [get_bd_pins processing_system7_0/FCLK_CLK0]
connect_bd_net [get_bd_pins processing_system7_0_axi_periph/S00_ACLK] [get_bd_pins processing_system7_0/FCLK_CLK0]
connect_bd_net [get_bd_pins processing_system7_0_axi_periph/M00_ACLK] [get_bd_pins processing_system7_0/FCLK_CLK0]
regenerate_bd_layout
validate_bd_design
save_bd_design
make_wrapper -files [get_files /home/liucheng/research/zynq-dev/cdma_demo/cdma_demo.srcs/sources_1/bd/base_sys/base_sys.bd] -top
add_files -norecurse /home/liucheng/research/zynq-dev/cdma_demo/cdma_demo.srcs/sources_1/bd/base_sys/hdl/base_sys_wrapper.v
update_compile_order -fileset sources_1
update_compile_order -fileset sim_1
set_property range 8K [get_bd_addr_segs {axi_cdma_0/Data/SEG_axi_bram_ctrl_0_Mem0}]
save_bd_design
launch_runs synth_1
wait_on_run synth_1
launch_runs impl_1
wait_on_run impl_1
launch_runs impl_1 -to_step write_bitstream
wait_on_run impl_1
file mkdir /home/liucheng/research/zynq-dev/cdma_demo/cdma_demo.sdk
file copy -force /home/liucheng/research/zynq-dev/cdma_demo/cdma_demo.runs/impl_1/base_sys_wrapper.sysdef /home/liucheng/research/zynq-dev/cdma_demo/cdma_demo.sdk/base_sys_wrapper.hdf

launch_sdk -workspace /home/liucheng/research/zynq-dev/cdma_demo/cdma_demo.sdk -hwspec /home/liucheng/research/zynq-dev/cdma_demo/cdma_demo.sdk/base_sys_wrapper.hdf
